{"mappings":"YAGA,IACMA,EAAUC,SAASC,eAAe,WAClCC,EAAiBF,SAASG,cAAc,cAC1CC,EAAc,EA0BlB,SAASC,EAAYC,EAAaC,GAIhCC,MACE,gCAA6CC,OAlCjC,qCAkC4B,OAAiFA,OAA5EH,EAAY,kEAAiFG,OAAjBF,EAAK,cAAoBE,OAJpI,KAMbC,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACS,IAATN,IAsBRR,EAAQe,UAAY,GAnBdZ,EAAea,MAAMC,QAAU,SA4BvC,SAAuBC,GACrB,GAAsB,IAAlBA,EAAOC,OAET,YADAC,IAIFF,EAAOG,SAAQ,SAAAC,GACb,IAAMC,EAKV,SAAyBD,GACvB,IAAMC,EAAYtB,SAASuB,cAAc,OACzCD,EAAUE,UAAY,aAEtB,IAAMC,EAAMzB,SAASuB,cAAc,OACnCE,EAAIC,IAAML,EAAMM,aAChBF,EAAIG,IAAMP,EAAMQ,KAChBJ,EAAIK,QAAU,OAEd,IAAMC,EAAO/B,SAASuB,cAAc,OAepC,OAdAQ,EAAKP,UAAY,OAEC,CAAC,QAAS,QAAS,WAAY,aAEvCJ,SAAQ,SAAAY,GAChB,IAAMC,EAAIjC,SAASuB,cAAc,KACjCU,EAAET,UAAY,YACdS,EAAEnB,UAAY,MAAmBL,OAAbuB,EAAK,UAAkCvB,OAA1BY,EAAMW,EAAKE,gBAC5CH,EAAKI,YAAYF,E,IAGnBX,EAAUa,YAAYV,GACtBH,EAAUa,YAAYJ,GAEfT,C,CA7Bac,CAAgBf,GAClCtB,EAAQoC,YAAYb,E,IAhClBe,CAAcxB,EAAKyB,MAGfzB,EAAK0B,WAlBG,GAkBUhC,IAEpBL,EAAea,MAAMC,QAAU,OAchBhB,SAASC,eAAe,gBAChCuC,UACX,6D,IAZCC,OAAM,SAAAC,GACLvB,G,IAqDN,SAASA,IACcnB,SAASC,eAAe,gBAChCuC,UACX,0E,CA1GJxC,SACGC,eAAe,eACf0C,iBAAiB,UAAU,SAAUC,GACpCA,EAAMC,iBAQNxC,EANoBL,SAAS8C,kBAAkB,eAAe,GAAGC,MAGjE3C,EAAc,E,IAMlBF,EAAeyC,iBAAiB,SAAS,WAOvCtC,EANoBL,SAAS8C,kBAAkB,eAAe,GAAGC,QAGjE3C,E","sources":["src/index.js"],"sourcesContent":["// index.js\n\n// Constants\nconst API_KEY = '42335893-81a0738270e344fb8d80a811a';\nconst gallery = document.getElementById('gallery');\nconst loadMoreButton = document.querySelector('.load-more');\nlet currentPage = 1; // Initialize the current page\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const searchQuery = document.getElementsByName('searchQuery')[0].value;\n\n    // Reset current page to 1 when a new search is initiated\n    currentPage = 1;\n\n    // Make API request\n    fetchImages(searchQuery, currentPage);\n  });\n\nloadMoreButton.addEventListener('click', function () {\n  const searchQuery = document.getElementsByName('searchQuery')[0].value;\n\n  // Increment the current page for the next set of images\n  currentPage++;\n\n  // Make API request\n  fetchImages(searchQuery, currentPage);\n});\n\nfunction fetchImages(searchQuery, page) {\n  const perPage = 40;\n\n  // Make API request with pagination parameters\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n  )\n    .then(response => response.json())\n    .then(data => {\n      if (page === 1) {\n        clearGallery();\n        // Show the \"Load more\" button after the first request\n        loadMoreButton.style.display = 'block';\n      }\n\n      // Display images\n      displayImages(data.hits);\n\n      // Check if there are more images to load\n      if (data.totalHits <= page * perPage) {\n        // Hide the \"Load more\" button and display end of results notification\n        loadMoreButton.style.display = 'none';\n        displayEndOfResults();\n      }\n    })\n    .catch(error => {\n      displayError();\n    });\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = ''; // Clears the gallery content\n}\n\nfunction displayEndOfResults() {\n  const notification = document.getElementById('notification');\n  notification.innerText =\n    \"We're sorry, but you've reached the end of search results.\";\n}\n\nfunction displayImages(images) {\n  if (images.length === 0) {\n    displayError();\n    return;\n  }\n\n  images.forEach(image => {\n    const photoCard = createPhotoCard(image);\n    gallery.appendChild(photoCard);\n  });\n}\n\nfunction createPhotoCard(image) {\n  const photoCard = document.createElement('div');\n  photoCard.className = 'photo-card';\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.className = 'info';\n\n  const infoItems = ['Likes', 'Views', 'Comments', 'Downloads'];\n\n  infoItems.forEach(item => {\n    const p = document.createElement('p');\n    p.className = 'info-item';\n    p.innerHTML = `<b>${item}:</b> ${image[item.toLowerCase()]}`;\n    info.appendChild(p);\n  });\n\n  photoCard.appendChild(img);\n  photoCard.appendChild(info);\n\n  return photoCard;\n}\n\nfunction displayError() {\n  const notification = document.getElementById('notification');\n  notification.innerText =\n    'Sorry, there are no images matching your search query. Please try again.';\n}\n"],"names":["$b8f9b7833fa37166$var$gallery","document","getElementById","$b8f9b7833fa37166$var$loadMoreButton","querySelector","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$fetchImages","searchQuery","page","fetch","concat","then","response","json","data","innerHTML","style","display","images","length","$b8f9b7833fa37166$var$displayError","forEach","image","photoCard","createElement","className","img","src","webformatURL","alt","tags","loading","info","item","p","toLowerCase","appendChild","$b8f9b7833fa37166$var$createPhotoCard","$b8f9b7833fa37166$var$displayImages","hits","totalHits","innerText","catch","error","addEventListener","event","preventDefault","getElementsByName","value"],"version":3,"file":"index.ef567c84.js.map"}
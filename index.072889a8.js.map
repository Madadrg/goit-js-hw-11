{"mappings":"AAGA,MACMA,EAAUC,SAASC,eAAe,WAClCC,EAAiBF,SAASG,cAAc,cAC9C,IAAIC,EAAc,EA0BlB,SAASC,EAAYC,EAAaC,GAIhCC,MACE,qEAA6CF,kEAA4EC,iBAExHE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACS,IAATL,IAsBRR,EAAQc,UAAY,GAnBdX,EAAeY,MAAMC,QAAU,SA4BvC,SAAuBC,GACrB,GAAsB,IAAlBA,EAAOC,OAET,YADAC,IAIFF,EAAOG,SAAQC,IACb,MAAMC,EAKV,SAAyBD,GACvB,MAAMC,EAAYrB,SAASsB,cAAc,OACzCD,EAAUE,UAAY,aAEtB,MAAMC,EAAMxB,SAASsB,cAAc,OACnCE,EAAIC,IAAML,EAAMM,aAChBF,EAAIG,IAAMP,EAAMQ,KAChBJ,EAAIK,QAAU,OAEd,MAAMC,EAAO9B,SAASsB,cAAc,OACpCQ,EAAKP,UAAY,OAcjB,MAZkB,CAAC,QAAS,QAAS,WAAY,aAEvCJ,SAAQY,IAChB,MAAMC,EAAIhC,SAASsB,cAAc,KACjCU,EAAET,UAAY,YACdS,EAAEnB,UAAY,MAAMkB,UAAaX,EAAMW,EAAKE,iBAC5CH,EAAKI,YAAYF,EAAE,IAGrBX,EAAUa,YAAYV,GACtBH,EAAUa,YAAYJ,GAEfT,C,CA7Bac,CAAgBf,GAClCrB,EAAQmC,YAAYb,EAAU,G,CAhC5Be,CAAcxB,EAAKyB,MAGfzB,EAAK0B,WAlBG,GAkBU/B,IAEpBL,EAAeY,MAAMC,QAAU,OAchBf,SAASC,eAAe,gBAChCsC,UACX,6D,IAZCC,OAAMC,IACLvB,GAAc,G,CAqDpB,SAASA,IACclB,SAASC,eAAe,gBAChCsC,UACX,0E,CA1GJvC,SACGC,eAAe,eACfyC,iBAAiB,UAAU,SAAUC,GACpCA,EAAMC,iBAEN,MAAMtC,EAAcN,SAAS6C,kBAAkB,eAAe,GAAGC,MAGjE1C,EAAc,EAGdC,EAAYC,EAAaF,E,IAG7BF,EAAewC,iBAAiB,SAAS,WACvC,MAAMpC,EAAcN,SAAS6C,kBAAkB,eAAe,GAAGC,MAGjE1C,IAGAC,EAAYC,EAAaF,E","sources":["src/index.js"],"sourcesContent":["// index.js\n\n// Constants\nconst API_KEY = '42335893-81a0738270e344fb8d80a811a';\nconst gallery = document.getElementById('gallery');\nconst loadMoreButton = document.querySelector('.load-more');\nlet currentPage = 1; // Initialize the current page\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const searchQuery = document.getElementsByName('searchQuery')[0].value;\n\n    // Reset current page to 1 when a new search is initiated\n    currentPage = 1;\n\n    // Make API request\n    fetchImages(searchQuery, currentPage);\n  });\n\nloadMoreButton.addEventListener('click', function () {\n  const searchQuery = document.getElementsByName('searchQuery')[0].value;\n\n  // Increment the current page for the next set of images\n  currentPage++;\n\n  // Make API request\n  fetchImages(searchQuery, currentPage);\n});\n\nfunction fetchImages(searchQuery, page) {\n  const perPage = 40;\n\n  // Make API request with pagination parameters\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n  )\n    .then(response => response.json())\n    .then(data => {\n      if (page === 1) {\n        clearGallery();\n        // Show the \"Load more\" button after the first request\n        loadMoreButton.style.display = 'block';\n      }\n\n      // Display images\n      displayImages(data.hits);\n\n      // Check if there are more images to load\n      if (data.totalHits <= page * perPage) {\n        // Hide the \"Load more\" button and display end of results notification\n        loadMoreButton.style.display = 'none';\n        displayEndOfResults();\n      }\n    })\n    .catch(error => {\n      displayError();\n    });\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = ''; // Clears the gallery content\n}\n\nfunction displayEndOfResults() {\n  const notification = document.getElementById('notification');\n  notification.innerText =\n    \"We're sorry, but you've reached the end of search results.\";\n}\n\nfunction displayImages(images) {\n  if (images.length === 0) {\n    displayError();\n    return;\n  }\n\n  images.forEach(image => {\n    const photoCard = createPhotoCard(image);\n    gallery.appendChild(photoCard);\n  });\n}\n\nfunction createPhotoCard(image) {\n  const photoCard = document.createElement('div');\n  photoCard.className = 'photo-card';\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.className = 'info';\n\n  const infoItems = ['Likes', 'Views', 'Comments', 'Downloads'];\n\n  infoItems.forEach(item => {\n    const p = document.createElement('p');\n    p.className = 'info-item';\n    p.innerHTML = `<b>${item}:</b> ${image[item.toLowerCase()]}`;\n    info.appendChild(p);\n  });\n\n  photoCard.appendChild(img);\n  photoCard.appendChild(info);\n\n  return photoCard;\n}\n\nfunction displayError() {\n  const notification = document.getElementById('notification');\n  notification.innerText =\n    'Sorry, there are no images matching your search query. Please try again.';\n}\n"],"names":["$1f0dc3b9307be026$var$gallery","document","getElementById","$1f0dc3b9307be026$var$loadMoreButton","querySelector","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$fetchImages","searchQuery","page","fetch","then","response","json","data","innerHTML","style","display","images","length","$1f0dc3b9307be026$var$displayError","forEach","image","photoCard","createElement","className","img","src","webformatURL","alt","tags","loading","info","item","p","toLowerCase","appendChild","$1f0dc3b9307be026$var$createPhotoCard","$1f0dc3b9307be026$var$displayImages","hits","totalHits","innerText","catch","error","addEventListener","event","preventDefault","getElementsByName","value"],"version":3,"file":"index.072889a8.js.map"}